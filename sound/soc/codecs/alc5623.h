/*
 * alc5623.h - ALC5623 audio codec interface
 *
 * Copyright (C) 2008-2010 Freescale Semiconductor, Inc.
 *
 *  This program is free software; you can redistribute  it and/or modify it
 *  under  the terms of  the GNU General  Public License as published by the
 *  Free Software Foundation;  either version 2 of the  License, or (at your
 *  option) any later version.
 */

#ifndef _ALC5623_H
#define _ALC5623_H

#include <linux/i2c.h>

extern struct snd_soc_dai alc5623_dai;
extern struct snd_soc_codec_device soc_codec_dev_alc5623;

/*
 * Register values.
 */
#define ALC5623_CHIP_ID			0x0000
#define ALC5623_CHIP_DIG_POWER			0x0002
#define ALC5623_CHIP_CLK_CTRL			0x0004
#define ALC5623_CHIP_I2S_CTRL			0x0006
#define ALC5623_CHIP_SSS_CTRL			0x000a
#define ALC5623_CHIP_ADCDAC_CTRL		0x000e
#define ALC5623_CHIP_DAC_VOL			0x0010
#define ALC5623_CHIP_PAD_STRENGTH		0x0014
#define ALC5623_CHIP_ANA_ADC_CTRL		0x0020
#define ALC5623_CHIP_ANA_HP_CTRL		0x0022
#define ALC5623_CHIP_ANA_CTRL			0x0024
#define ALC5623_CHIP_LINREG_CTRL		0x0026
#define ALC5623_CHIP_REF_CTRL			0x0028
#define ALC5623_CHIP_MIC_CTRL			0x002a
#define ALC5623_CHIP_LINE_OUT_CTRL		0x002c
#define ALC5623_CHIP_LINE_OUT_VOL		0x002e
#define ALC5623_CHIP_ANA_POWER			0x0030
#define ALC5623_CHIP_PLL_CTRL			0x0032
#define ALC5623_CHIP_CLK_TOP_CTRL		0x0034
#define ALC5623_CHIP_ANA_STATUS		0x0036
#define ALC5623_CHIP_SHORT_CTRL		0x003c
#define ALC5623_CHIP_ANA_TEST2			0x003a
#define ALC5623_DAP_CTRL			0x0100
#define ALC5623_DAP_PEQ			0x0102
#define ALC5623_DAP_BASS_ENHANCE		0x0104
#define ALC5623_DAP_BASS_ENHANCE_CTRL		0x0106
#define ALC5623_DAP_AUDIO_EQ			0x0108
#define ALC5623_DAP_SURROUND			0x010a
#define ALC5623_DAP_FLT_COEF_ACCESS		0x010c
#define ALC5623_DAP_COEF_WR_B0_MSB		0x010e
#define ALC5623_DAP_COEF_WR_B0_LSB		0x0110
#define ALC5623_DAP_EQ_BASS_BAND0		0x0116
#define ALC5623_DAP_EQ_BASS_BAND1		0x0118
#define ALC5623_DAP_EQ_BASS_BAND2		0x011a
#define ALC5623_DAP_EQ_BASS_BAND3		0x011c
#define ALC5623_DAP_EQ_BASS_BAND4		0x011e
#define ALC5623_DAP_MAIN_CHAN			0x0120
#define ALC5623_DAP_MIX_CHAN			0x0122
#define ALC5623_DAP_AVC_CTRL			0x0124
#define ALC5623_DAP_AVC_THRESHOLD		0x0126
#define ALC5623_DAP_AVC_ATTACK			0x0128
#define ALC5623_DAP_AVC_DECAY			0x012a
#define ALC5623_DAP_COEF_WR_B1_MSB		0x012c
#define ALC5623_DAP_COEF_WR_B1_LSB		0x012e
#define ALC5623_DAP_COEF_WR_B2_MSB		0x0130
#define ALC5623_DAP_COEF_WR_B2_LSB		0x0132
#define ALC5623_DAP_COEF_WR_A1_MSB		0x0134
#define ALC5623_DAP_COEF_WR_A1_LSB		0x0136
#define ALC5623_DAP_COEF_WR_A2_MSB		0x0138
#define ALC5623_DAP_COEF_WR_A2_LSB		0x013a

/*
 * Field Definitions.
 */

/*
 * ALC5623_CHIP_ID
 */
#define ALC5623_PARTID_MASK			0xff00
#define ALC5623_PARTID_SHIFT			8
#define ALC5623_PARTID_WIDTH			8
#define ALC5623_PARTID_PART_ID		0xa0
#define ALC5623_REVID_MASK			0x00ff
#define ALC5623_REVID_SHIFT			0
#define ALC5623_REVID_WIDTH			8

/*
 * ALC5623_CHIP_DIG_POWER
 */
#define ALC5623_ADC_EN				0x0040
#define ALC5623_DAC_EN				0x0020
#define ALC5623_DAP_POWERUP			0x0010
#define ALC5623_I2S_OUT_POWERUP		0x0002
#define ALC5623_I2S_IN_POWERUP			0x0001

/*
 * ALC5623_CHIP_CLK_CTRL
 */
#define ALC5623_RATE_MODE_MASK			0x0030
#define ALC5623_RATE_MODE_SHIFT		4
#define ALC5623_RATE_MODE_WIDTH		2
#define ALC5623_RATE_MODE_DIV_1		0
#define ALC5623_RATE_MODE_DIV_2		1
#define ALC5623_RATE_MODE_DIV_4		2
#define ALC5623_RATE_MODE_DIV_6		3
#define ALC5623_SYS_FS_MASK			0x000c
#define ALC5623_SYS_FS_SHIFT			2
#define ALC5623_SYS_FS_WIDTH			2
#define ALC5623_SYS_FS_32k			0x0
#define ALC5623_SYS_FS_44_1k			0x1
#define ALC5623_SYS_FS_48k			0x2
#define ALC5623_SYS_FS_96k			0x3
#define ALC5623_MCLK_FREQ_MASK			0x0003
#define ALC5623_MCLK_FREQ_SHIFT		0
#define ALC5623_MCLK_FREQ_WIDTH		2
#define ALC5623_MCLK_FREQ_256FS		0x0
#define ALC5623_MCLK_FREQ_384FS		0x1
#define ALC5623_MCLK_FREQ_512FS		0x2
#define ALC5623_MCLK_FREQ_PLL			0x3

/*
 * ALC5623_CHIP_I2S_CTRL
 */
#define ALC5623_I2S_SCLKFREQ_MASK		0x0100
#define ALC5623_I2S_SCLKFREQ_SHIFT		8
#define ALC5623_I2S_SCLKFREQ_WIDTH		1
#define ALC5623_I2S_SCLKFREQ_64FS		0x0
#define ALC5623_I2S_SCLKFREQ_32FS		0x1	/* Not for RJ mode */
#define ALC5623_I2S_MASTER			0x0080
#define ALC5623_I2S_SCLK_INV			0x0040
#define ALC5623_I2S_DLEN_MASK			0x0030
#define ALC5623_I2S_DLEN_SHIFT			4
#define ALC5623_I2S_DLEN_WIDTH			2
#define ALC5623_I2S_DLEN_32			0x0
#define ALC5623_I2S_DLEN_24			0x1
#define ALC5623_I2S_DLEN_20			0x2
#define ALC5623_I2S_DLEN_16			0x3
#define ALC5623_I2S_MODE_MASK			0x000c
#define ALC5623_I2S_MODE_SHIFT			2
#define ALC5623_I2S_MODE_WIDTH			2
#define ALC5623_I2S_MODE_I2S_LJ		0x0
#define ALC5623_I2S_MODE_RJ			0x1
#define ALC5623_I2S_MODE_PCM			0x2
#define ALC5623_I2S_LRALIGN			0x0002
#define ALC5623_I2S_LRPOL			0x0001	/* set for which mode */

/*
 * ALC5623_CHIP_SSS_CTRL
 */
#define ALC5623_DAP_MIX_LRSWAP			0x4000
#define ALC5623_DAP_LRSWAP			0x2000
#define ALC5623_DAC_LRSWAP			0x1000
#define ALC5623_I2S_OUT_LRSWAP			0x0400
#define ALC5623_DAP_MIX_SEL_MASK		0x0300
#define ALC5623_DAP_MIX_SEL_SHIFT		8
#define ALC5623_DAP_MIX_SEL_WIDTH		2
#define ALC5623_DAP_MIX_SEL_ADC		0x0
#define ALC5623_DAP_MIX_SEL_I2S_IN		0x1
#define ALC5623_DAP_SEL_MASK			0x00c0
#define ALC5623_DAP_SEL_SHIFT			6
#define ALC5623_DAP_SEL_WIDTH			2
#define ALC5623_DAP_SEL_ADC			0x0
#define ALC5623_DAP_SEL_I2S_IN			0x1
#define ALC5623_DAC_SEL_MASK			0x0030
#define ALC5623_DAC_SEL_SHIFT			4
#define ALC5623_DAC_SEL_WIDTH			2
#define ALC5623_DAC_SEL_ADC			0x0
#define ALC5623_DAC_SEL_I2S_IN			0x1
#define ALC5623_DAC_SEL_DAP			0x3
#define ALC5623_I2S_OUT_SEL_MASK		0x0003
#define ALC5623_I2S_OUT_SEL_SHIFT		0
#define ALC5623_I2S_OUT_SEL_WIDTH		2
#define ALC5623_I2S_OUT_SEL_ADC		0x0
#define ALC5623_I2S_OUT_SEL_I2S_IN		0x1
#define ALC5623_I2S_OUT_SEL_DAP		0x3

/*
 * ALC5623_CHIP_ADCDAC_CTRL
 */
#define ALC5623_VOL_BUSY_DAC_RIGHT		0x2000
#define ALC5623_VOL_BUSY_DAC_LEFT		0x1000
#define ALC5623_DAC_VOL_RAMP_EN		0x0200
#define ALC5623_DAC_VOL_RAMP_EXPO		0x0100
#define ALC5623_DAC_MUTE_RIGHT			0x0008
#define ALC5623_DAC_MUTE_LEFT			0x0004
#define ALC5623_ADC_HPF_FREEZE			0x0002
#define ALC5623_ADC_HPF_BYPASS			0x0001

/*
 * ALC5623_CHIP_DAC_VOL
 */
#define ALC5623_DAC_VOL_RIGHT_MASK		0xff00
#define ALC5623_DAC_VOL_RIGHT_SHIFT		8
#define ALC5623_DAC_VOL_RIGHT_WIDTH		8
#define ALC5623_DAC_VOL_LEFT_MASK		0x00ff
#define ALC5623_DAC_VOL_LEFT_SHIFT		0
#define ALC5623_DAC_VOL_LEFT_WIDTH		8

/*
 * ALC5623_CHIP_PAD_STRENGTH
 */
#define ALC5623_PAD_I2S_LRCLK_MASK		0x0300
#define ALC5623_PAD_I2S_LRCLK_SHIFT		8
#define ALC5623_PAD_I2S_LRCLK_WIDTH		2
#define ALC5623_PAD_I2S_SCLK_MASK		0x00c0
#define ALC5623_PAD_I2S_SCLK_SHIFT		6
#define ALC5623_PAD_I2S_SCLK_WIDTH		2
#define ALC5623_PAD_I2S_DOUT_MASK		0x0030
#define ALC5623_PAD_I2S_DOUT_SHIFT		4
#define ALC5623_PAD_I2S_DOUT_WIDTH		2
#define ALC5623_PAD_I2C_SDA_MASK		0x000c
#define ALC5623_PAD_I2C_SDA_SHIFT		2
#define ALC5623_PAD_I2C_SDA_WIDTH		2
#define ALC5623_PAD_I2C_SCL_MASK		0x0003
#define ALC5623_PAD_I2C_SCL_SHIFT		0
#define ALC5623_PAD_I2C_SCL_WIDTH		2

/*
 * ALC5623_CHIP_ANA_ADC_CTRL
 */
#define ALC5623_ADC_VOL_M6DB			0x0100
#define ALC5623_ADC_VOL_RIGHT_MASK		0x00f0
#define ALC5623_ADC_VOL_RIGHT_SHIFT		4
#define ALC5623_ADC_VOL_RIGHT_WIDTH		4
#define ALC5623_ADC_VOL_LEFT_MASK		0x000f
#define ALC5623_ADC_VOL_LEFT_SHIFT		0
#define ALC5623_ADC_VOL_LEFT_WIDTH		4

/*
 * ALC5623_CHIP_ANA_HP_CTRL
 */
#define ALC5623_HP_VOL_RIGHT_MASK		0x7f00
#define ALC5623_HP_VOL_RIGHT_SHIFT		8
#define ALC5623_HP_VOL_RIGHT_WIDTH		7
#define ALC5623_HP_VOL_LEFT_MASK		0x007f
#define ALC5623_HP_VOL_LEFT_SHIFT		0
#define ALC5623_HP_VOL_LEFT_WIDTH		7

/*
 * ALC5623_CHIP_ANA_CTRL
 */
#define ALC5623_LINE_OUT_MUTE		0x0100
#define ALC5623_HP_SEL_MASK			0x0040
#define ALC5623_HP_SEL_SHIFT			6
#define ALC5623_HP_SEL_WIDTH			1
#define ALC5623_HP_SEL_DAC			0x0
#define ALC5623_HP_SEL_LINE_IN			0x1
#define ALC5623_HP_ZCD_EN			0x0020
#define ALC5623_HP_MUTE			0x0010
#define ALC5623_ADC_SEL_MASK			0x0004
#define ALC5623_ADC_SEL_SHIFT			2
#define ALC5623_ADC_SEL_WIDTH			1
#define ALC5623_ADC_SEL_MIC			0x0
#define ALC5623_ADC_SEL_LINE_IN		0x1
#define ALC5623_ADC_ZCD_EN			0x0002
#define ALC5623_ADC_MUTE			0x0001

/*
 * ALC5623_CHIP_LINREG_CTRL
 */
#define ALC5623_VDDC_MAN_ASSN_MASK		0x0040
#define ALC5623_VDDC_MAN_ASSN_SHIFT		6
#define ALC5623_VDDC_MAN_ASSN_WIDTH		1
#define ALC5623_VDDC_MAN_ASSN_VDDA		0x0
#define ALC5623_VDDC_MAN_ASSN_VDDIO		0x1
#define ALC5623_VDDC_ASSN_OVRD			0x0020
#define ALC5623_LINREG_VDDD_MASK		0x000f
#define ALC5623_LINREG_VDDD_SHIFT		0
#define ALC5623_LINREG_VDDD_WIDTH		4

/*
 * ALC5623_CHIP_REF_CTRL
 */
#define ALC5623_ANA_GND_MASK			0x01f0
#define ALC5623_ANA_GND_SHIFT			4
#define ALC5623_ANA_GND_WIDTH			5
#define ALC5623_ANA_GND_BASE			800	/* mv */
#define ALC5623_ANA_GND_STP			25	/*mv */
#define ALC5623_BIAS_CTRL_MASK			0x000e
#define ALC5623_BIAS_CTRL_SHIFT		1
#define ALC5623_BIAS_CTRL_WIDTH		3
#define ALC5623_SMALL_POP			0x0001

/*
 * ALC5623_CHIP_MIC_CTRL
 */
#define ALC5623_BIAS_R_MASK			0x0200
#define ALC5623_BIAS_R_SHIFT			8
#define ALC5623_BIAS_R_WIDTH			2
#define ALC5623_BIAS_R_off			0x0
#define ALC5623_BIAS_R_2K			0x1
#define ALC5623_BIAS_R_4k			0x2
#define ALC5623_BIAS_R_8k			0x3
#define ALC5623_BIAS_VOLT_MASK			0x0070
#define ALC5623_BIAS_VOLT_SHIFT		4
#define ALC5623_BIAS_VOLT_WIDTH		3
#define ALC5623_MIC_GAIN_MASK			0x0003
#define ALC5623_MIC_GAIN_SHIFT			0
#define ALC5623_MIC_GAIN_WIDTH			2

/*
 * ALC5623_CHIP_LINE_OUT_CTRL
 */
#define ALC5623_LINE_OUT_CURRENT_MASK		0x0f00
#define ALC5623_LINE_OUT_CURRENT_SHIFT		8
#define ALC5623_LINE_OUT_CURRENT_WIDTH		4
#define ALC5623_LINE_OUT_CURRENT_180u		0x0
#define ALC5623_LINE_OUT_CURRENT_270u		0x1
#define ALC5623_LINE_OUT_CURRENT_360u		0x3
#define ALC5623_LINE_OUT_CURRENT_450u		0x7
#define ALC5623_LINE_OUT_CURRENT_540u		0xf
#define ALC5623_LINE_OUT_GND_MASK		0x003f
#define ALC5623_LINE_OUT_GND_SHIFT		0
#define ALC5623_LINE_OUT_GND_WIDTH		6
#define ALC5623_LINE_OUT_GND_BASE		800	/* mv */
#define ALC5623_LINE_OUT_GND_STP		25
#define ALC5623_LINE_OUT_GND_MAX		0x23

/*
 * ALC5623_CHIP_LINE_OUT_VOL
 */
#define ALC5623_LINE_OUT_VOL_RIGHT_MASK	0x1f00
#define ALC5623_LINE_OUT_VOL_RIGHT_SHIFT	8
#define ALC5623_LINE_OUT_VOL_RIGHT_WIDTH	5
#define ALC5623_LINE_OUT_VOL_LEFT_MASK		0x001f
#define ALC5623_LINE_OUT_VOL_LEFT_SHIFT	0
#define ALC5623_LINE_OUT_VOL_LEFT_WIDTH	5

/*
 * ALC5623_CHIP_ANA_POWER
 */
#define ALC5623_DAC_STEREO			0x4000
#define ALC5623_LINREG_SIMPLE_POWERUP		0x2000
#define ALC5623_STARTUP_POWERUP		0x1000
#define ALC5623_VDDC_CHRGPMP_POWERUP		0x0800
#define ALC5623_PLL_POWERUP			0x0400
#define ALC5623_LINEREG_D_POWERUP		0x0200
#define ALC5623_VCOAMP_POWERUP			0x0100
#define ALC5623_VAG_POWERUP			0x0080
#define ALC5623_ADC_STEREO			0x0040
#define ALC5623_REFTOP_POWERUP			0x0020
#define ALC5623_HP_POWERUP			0x0010
#define ALC5623_DAC_POWERUP			0x0008
#define ALC5623_CAPLESS_HP_POWERUP		0x0004
#define ALC5623_ADC_POWERUP			0x0002
#define ALC5623_LINE_OUT_POWERUP		0x0001

/*
 * ALC5623_CHIP_PLL_CTRL
 */
#define ALC5623_PLL_INT_DIV_MASK		0xf800
#define ALC5623_PLL_INT_DIV_SHIFT		11
#define ALC5623_PLL_INT_DIV_WIDTH		5
#define ALC5623_PLL_FRAC_DIV_MASK		0x0700
#define ALC5623_PLL_FRAC_DIV_SHIFT		0
#define ALC5623_PLL_FRAC_DIV_WIDTH		11

/*
 * ALC5623_CHIP_CLK_TOP_CTRL
 */
#define ALC5623_INT_OSC_EN			0x0800
#define ALC5623_INPUT_FREQ_DIV2		0x0008

/*
 * ALC5623_CHIP_ANA_STATUS
 */
#define ALC5623_HP_LRSHORT			0x0200
#define ALC5623_CAPLESS_SHORT			0x0100
#define ALC5623_PLL_LOCKED			0x0010

/*
 * ALC5623_CHIP_SHORT_CTRL
 */
#define ALC5623_LVLADJR_MASK			0x7000
#define ALC5623_LVLADJR_SHIFT			12
#define ALC5623_LVLADJR_WIDTH			3
#define ALC5623_LVLADJL_MASK			0x0700
#define ALC5623_LVLADJL_SHIFT			8
#define ALC5623_LVLADJL_WIDTH			3
#define ALC5623_LVLADJC_MASK			0x0070
#define ALC5623_LVLADJC_SHIFT			4
#define ALC5623_LVLADJC_WIDTH			3
#define ALC5623_LR_SHORT_MOD_MASK		0x000c
#define ALC5623_LR_SHORT_MOD_SHIFT		2
#define ALC5623_LR_SHORT_MOD_WIDTH		2
#define ALC5623_CM_SHORT_MOD_MASK		0x0003
#define ALC5623_CM_SHORT_MOD_SHIFT		0
#define ALC5623_CM_SHORT_MOD_WIDTH		2

/*
 *ALC5623_CHIP_ANA_TEST2
 */
#define ALC5623_MONO_DAC			0x1000

/*
 * ALC5623_DAP_CTRL
 */
#define ALC5623_DAP_MIX_EN			0x0010
#define ALC5623_DAP_EN				0x0001

#define ALC5623_SYSCLK		0x00
#define ALC5623_LRCLK		0x01

struct alc5623_setup_data {
	int (*clock_enable) (int enable);
};

#endif
